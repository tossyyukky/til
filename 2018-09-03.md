# Let's Encryptで複数ドメイン扱う

- 0.22〜以降ならワイルドカード証明書も可能
    - でもこれ使うにはDNSサーバにTXTレコードを追加しないといけない
    - 更新のたびに↑が必要なので自動更新がやりにくい
- 数個ならマルチドメイン（Subject Alternative Name, SAN）がある
    - 複数のドメインを一つの証明書で設定可能
    - `./certbot-auto certonly --webroot -w /var/www/hogehoge -d ドメイン一個目 -d ドメイン二個目 --email メールアドレス -n --agree-tos --debug --expand`
    - こんな感じで`-d`オプションを複数つけるだけ
    - webrootは直近の`-w`を見る
        - ので、`-w ~~~ -d ~~~ -w ~~~ -d ~~~`とやればそれぞれのwebrootもいける
    - 既存のドメインに対して追加する場合（既に設定ファイルが有る場合）は`--expand`をつけないとダメ
    - 証明書のファイル名（ディレクトリ名）は一個目のドメインのものになる